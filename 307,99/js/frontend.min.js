const wolfgdprAjaxUrl=wolfJSData.ajax_url;function wolfGdprStartCookies(){active_categories=wwpGetCookie(wolfJSData.cookie_consent);var e=document.querySelector(".comment-form-cookies-consent");null!==e&&e.remove(),""==active_categories&&(wolfGdpr_forms_consent(),wwpToggleClass(".wolf-consentment-bar","hidden"))}function wolfGdpr_forms_consent(){wolfJSData.theme_wolfwp_active&&(html=(html=(html=(html=(html="")+'<label class="wolf-gdpr-field-consent"><input type="checkbox" name="wolf-gdrp-consent" required="">')+'<span class="checkmark"><i class="fas fa-check" aria-hidden="true"></i></span><span>')+wolfJSData.wolfgdpr_checkbox_capture_text)+"</span></label>",document.querySelectorAll(".form-data.-capture .obs").forEach(e=>{e.innerHTML=html})),html='<label class="wolf-gdpr-field-consent">',html=(html=(html=(html+='<input type="checkbox" name="wolf-gdrp-consent-comment" value="1" required="">')+'<span class="checkmark"><i class="fas fa-check" aria-hidden="true"></i></span><span>')+wolfJSData.wolfgdpr_checkbox_comment_text)+"</span></label>",wwpBefore(null,document.querySelector("#commentform .form-submit"),["p",html])}function wolf_sendUserRequest(t){wolf_hideMessage(t);var e=t.querySelector("input[name='wolf-action']").value,o=t.querySelector("input[name='name']").value,n=t.querySelector("input[name='wolf-email']"),a=t.querySelector("input[name='wolf-form-consent']"),l=t.querySelector("input[name='_wpnonce']").value,r=t.querySelector("button[type='submit']"),s=r.textContent;wwpValidateEmail(n.value)?!0!==a.checked?wolf_ShowMessage(wolfJSData.msg_email_authorize,"error",t):(r.setAttribute("disabled",!0),r.innerHTML=wolfJSData.msg_wait,e={action:"wfgr_create_data_solicitation_ajax","wolf-action":e,name:o,"wolf-email":n.value,"wolf-form-consent":a.value,_wpnonce:l},fetch(wolfgdprAjaxUrl,wolf_ajax_get_config(e)).then(function(e){return e.json()}).then(function(e){e.success?(wolf_ShowMessage(e.data.message,"success",t),n.value="",a.checked=!1):wolf_ShowMessage(e.data.message,"error",t),r.disabled=!1,r.innerHTML=s}).catch(function(e){console.log("Wolf Privacidade - Erro: ",e)})):wolf_ShowMessage(wolfJSData.msg_email_invalid,"error",t)}function wolf_sendConsentRequest(e){var t=e.querySelector("input[name='consent-type']").value,o=e.querySelector("input[name='name']").value,e=e.querySelector("input[name='_wpnonce']").value,t=(wwpToggleClass(".wolf-consentment-bar","hidden"),{action:"wfgr_create_consent","consent-type":t,name:o,_wpnonce:e});fetch(wolfgdprAjaxUrl,wolf_ajax_get_config(t)).then(function(e){return e.json()}).then(function(e){}).catch(function(e){console.log("Wolf Privacidade - Erro: ",e)})}function wolf_sendUserRectify(t){wolf_hideMessage(t);var e=t.querySelector("input[name='wolf-action']").value,o=t.querySelector("input[name='name']").value,n=t.querySelector("input[name='wolf-email']"),a=t.querySelector("textarea[name='wolf-current']"),l=t.querySelector("textarea[name='wolf-rectified']"),r=t.querySelector("input[name='wolf-form-consent']"),s=t.querySelector("input[name='_wpnonce']").value,c=t.querySelector("button[type='submit']"),i=c.textContent;wwpValidateEmail(n.value)?!0!==r.checked?wolf_ShowMessage(wolfJSData.msg_email_authorize,"error",t):(c.setAttribute("disabled",!0),c.innerHTML=wolfJSData.msg_wait,e={action:"wfgr_create_data_rectification_ajax","wolf-action":e,name:o,"wolf-email":n.value,"wolf-current":a.value,"wolf-rectified":l.value,"wolf-form-consent":r.value,_wpnonce:s},fetch(wolfgdprAjaxUrl,wolf_ajax_get_config(e)).then(function(e){return e.json()}).then(function(e){e.success?(wolf_ShowMessage(e.data.message,"success",t),n.value="",a.value="",l.value="",r.checked=!1):wolf_ShowMessage(e.data.message,"error",t),c.disabled=!1,c.innerHTML=i}).catch(function(e){console.log("Wolf Privacidade - Erro: ",e)})):wolf_ShowMessage(wolfJSData.msg_email_invalid,"error",t)}function wolf_sendUserUnsubscribe(t){wolf_hideMessage(t);var e=t.querySelector("input[name='wolf-action']").value,o=t.querySelector("input[name='name']").value,n=t.querySelector("input[name='wolf-email']"),a=t.querySelector("input[name='wolf-form-consent']"),l=t.querySelector("input[name='_wpnonce']").value,r=t.querySelector("button[type='submit']"),s=r.textContent;wwpValidateEmail(n.value)?!0!==a.checked?wolf_ShowMessage(wolfJSData.msg_email_authorize,"error",t):(r.setAttribute("disabled",!0),r.innerHTML=wolfJSData.msg_wait,e={action:"wfgr_create_data_unsubscribe_ajax","wolf-action":e,name:o,"wolf-email":n.value,"wolf-form-consent":a.value,_wpnonce:l},fetch(wolfgdprAjaxUrl,wolf_ajax_get_config(e)).then(function(e){return e.json()}).then(function(e){e.success?(wolf_ShowMessage(e.data.message,"success",t),n.value="",a.checked=!1):wolf_ShowMessage(e.data.message,"error",t),r.disabled=!1,r.innerHTML=s}).catch(function(e){console.log("Wolf Privacidade - Erro: ",e)})):wolf_ShowMessage(wolfJSData.msg_email_invalid,"error",t)}function wolf_ShowMessage(e,t,o){o=o.querySelector(".wolf-alert");o.querySelector(".wolf-alert-content").innerHTML=e,"error"==t?(o.classList.remove("success"),o.classList.add("error")):"success"==t&&(o.classList.remove("error"),o.classList.add("success")),wwpShow(o)}function wolf_hideMessage(e){e=e.querySelector(".wolf-alert");e.querySelector(".wolf-alert-content").innerHTML="",e.classList.remove("error"),e.classList.remove("success"),e.style.display="none"}function wolf_ajax_get_config(e){return{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},body:wolf_get_params_ajax(e)}}function wolf_get_params_ajax(t){return Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&")}document.addEventListener("DOMContentLoaded",function(){wolfGdprStartCookies();var e=document.getElementById("wolf-form-consent-cookies"),e=(null!==e&&e.addEventListener("submit",function(e){wolf_sendConsentRequest(this),e.preventDefault()}),document.getElementById("wolf-form-export-data")),e=(null!==e&&e.addEventListener("submit",function(e){wolf_sendUserRequest(this),e.preventDefault()}),document.getElementById("wolf-form-remove-data")),e=(null!==e&&e.addEventListener("submit",function(e){wolf_sendUserRequest(this),e.preventDefault()}),document.getElementById("wolf-form-rectify-data")),e=(null!==e&&e.addEventListener("submit",function(e){wolf_sendUserRectify(this),e.preventDefault()}),document.getElementById("wolf-form-unsubscribe-data"));null!==e&&e.addEventListener("submit",function(e){wolf_sendUserUnsubscribe(this),e.preventDefault()})});